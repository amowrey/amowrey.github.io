<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title data-i18n="pageTitle">IT Resource Center</title>

  <!-- your main stylesheet (kept) -->
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#b71c1c">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700;800&display=swap" rel="stylesheet"/>

  <!-- Minimal chat CSS to ensure Mira displays correctly even if style.css isn't updated yet -->
  <style>
    /* Chat button + window (keeps consistent with your brand) */
    .chat-btn {
      position: fixed;
      right: 26px;
      bottom: 26px;
      background: var(--brand, #b71c1c);
      color: #fff;
      border: 0;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      font-size: 22px;
      box-shadow: 0 8px 28px rgba(183,28,28,0.6);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 200;
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .chat-btn:hover { transform: translateY(-3px); box-shadow: 0 12px 36px rgba(183,28,28,0.7); }

    /* Container for embedded Mira chat */
    #mira-chat {
      position: fixed;
      right: 26px;
      bottom: 100px;
      width: 420px;
      height: 600px;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.25);
      overflow: hidden;
      display: none; /* toggled by aria-hidden */
      flex-direction: column;
      z-index: 210;
      border: 2px solid var(--brand, #b71c1c);
    }
    #mira-chat[aria-hidden="false"] { display: flex; animation: fadeInUp .28s ease; }

    /* header (outside iframe) */
    #mira-chat .mira-header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 12px;
      background: linear-gradient(90deg, var(--brand, #b71c1c), #8b1a1a);
      color:#fff;
      font-weight:700;
    }
    #mira-chat .mira-header .title { font-size:15px; }
    #mira-chat .mira-header button.close { background:transparent; border:0; color:#fff; font-size:18px; cursor:pointer; }

    #mira-chat iframe { width: 100%; height: calc(100% - 44px); border: none; display:block; }

    @keyframes fadeInUp {
      from { transform: translateY(8px); opacity: 0; }
      to   { transform: translateY(0); opacity: 1; }
    }

    /* Language select inside profile dropdown */
  /* Profile Dropdown - Language Row Styling */
.lang-row {
  display: flex;
  justify-content: center;      /* centers everything horizontally */
  align-items: center;          /* aligns dropdown + label vertically */
  gap: 12px;                    /* space between label + dropdown */
  padding: 14px 0;
  font-family: "Montserrat", sans-serif;
  border-top: 1px solid #e5e5e5;
}

.lang-row label {
  font-weight: 700;
  font-size: 14px;
  color: #000;
}

#languageSelect {
  font-family: "Montserrat", sans-serif;
  font-size: 15px;
  padding: 6px 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #fff;
  cursor: pointer;
}


    /* Keep existing responsive adjustments from original */
    @media (max-width: 900px) {
      #mira-chat { width: 360px; height: 64vh; right:16px; bottom: 90px; }
    }
    @media (max-width: 520px) {
      #mira-chat { left: 10px; right: 10px; width: auto; height: 72vh; bottom: 84px; }
      .chat-btn { right: 16px; bottom: 16px; width:56px; height:56px; font-size:20px; }
    }
  </style>
</head>

<body>
  <!-- ---------- HEADER / NAV ---------- -->
  <header class="nav">
    <div class="nav-left">
      <button id="hamburger" class="icon-btn menu" title="Open menu">‚ò∞</button>
      <div class="brand">
        <img src="https://www.thenewnorth.com/wp-content/uploads/2020/09/Michels-Logo_January_-2020-4x2-1.png"
             alt="Michels Logo" class="brand-logo" />
      </div>
    </div>

    <div class="nav-center">
      <div class="search-wrap">
        <svg class="search-icon" viewBox="0 0 24 24"><path d="M21 21l-4.35-4.35" stroke="#8a8a8a" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg>
        <!-- mark placeholder for translation -->
        <input id="search" type="search" data-i18n="navSearch" placeholder="Search resources..." aria-label="Search resources" />
      </div>
    </div>

    <div class="nav-right">
      <div class="notif-wrap">
        <button class="icon-btn bell" id="notifBtn" title="Notifications">
          <svg viewBox="0 0 24 24"><path d="M15 17H9a3 3 0 006 0zM18 8a6 6 0 10-12 0v5l-2 2h16l-2-2V8z" stroke="#222" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span class="notif">2</span>
        </button>
        <div id="notifDropdown" class="notif-dropdown" aria-hidden="true">
          <div class="notif-header">
            <strong data-i18n="notifHeader">Notifications</strong>
            <button id="clearNotifs" class="link-btn" data-i18n="notifClear">Clear</button>
          </div>
          <ul id="notifList">
            <li class="notif-item">
              <strong data-i18n="notif_item1_title">Safety Training</strong>
              <span class="notif-time" data-i18n="notif_item1_time">Jan 10</span>
              <p data-i18n="notif_item1_desc">All staff required safety session on Jan 15.</p>
            </li>
            <li class="notif-item">
              <strong data-i18n="notif_item2_title">Equipment Maintenance</strong>
              <span class="notif-time" data-i18n="notif_item2_time">Jan 08</span>
              <p data-i18n="notif_item2_desc">Scheduled maintenance on Jan 25 ‚Äî plan accordingly.</p>
            </li>
          </ul>
          <div class="notif-footer">
            <a href="projects.html" class="small-link" data-i18n="notifViewAll">View all updates</a>
          </div>
        </div>
      </div>

      <div class="profile-dropdown-wrap" id="profileWrap">
        <button class="icon-btn profile" id="profileBtn" title="Profile">
          <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png"
               alt="Profile"
               style="width:30px;height:30px;border:0.5px solid #ffffff;background:#ffffff;padding:4px;">
        </button>

        <div id="profileDropdown" class="profile-dropdown" aria-hidden="true">
          <div class="profile-preview" style="display:flex;align-items:center;gap:10px;padding:12px 14px;border-bottom:1px solid #eee;background:#fafafa;">
            <img src="profile-icon.png" alt="profile" style="width:40px;height:40px;border-radius:50%;">
            <div class="profile-info" style="display:flex;flex-direction:column;">
              <strong style="font-size:14px;">Aliandra</strong>
              <small style="font-size:12px;color:#666;"></small>
            </div>
          </div>
          <a href="#" data-i18n="profileEdit">Edit Profile</a>
          <a href="mytasks.html" id="myTaskLink" data-i18n="profileTasks">My Tasks</a>
          <a href="#" data-i18n="profileSettings">Settings & Privacy</a>
          <a href="#" id="changeLanguage" data-i18n="profileFav">My Favorites</a>

          <!-- LANGUAGE SELECTOR (inside profile dropdown) -->
          <div class="lang-row" aria-hidden="false">
            <label for="languageSelect" data-i18n="langLabel">Language</label>
            <select id="languageSelect" aria-label="Language selector">
              <option value="en">English</option>
              <option value="es">Espa√±ol</option>
              <option value="de">Deutsch</option>
            </select>
          </div>

          <a href="#" id="logout" data-i18n="profileLogout">Logout</a>
        </div>
      </div>
    </div>
  </header>

  <!-- ---------- SIDEBAR ---------- -->
  <aside id="sidebar" class="sidebar" aria-hidden="true">
    <div class="side-top">
      <h3 data-i18n="sidebarTitle">IT Resource Center</h3>
      <button id="closeSidebar" class="close-side" title="Close">‚úï</button>
    </div>
    <nav class="side-nav">
      <a href="index.html" class="side-link" data-i18n="sidebarHome">Home</a>
      <a href="about.html" class="side-link" data-i18n="sidebarAbout">About Michels</a>
      <a href="projects.html" class="side-link" data-i18n="sidebarProjects">Projects</a>
      <a href="careers.html" class="side-link" data-i18n="sidebarCareers">Careers</a>
      <a href="contact.html" class="side-link" data-i18n="sidebarContact">Contact</a>
      <hr/>
      <a href="guides.html" class="side-link" data-i18n="sidebarGuides">Guides</a>
      <a href="training.html" class="side-link" data-i18n="sidebarTraining">Training</a>
      <a href="policies.html" class="side-link" data-i18n="sidebarPolicies">Policies & Forms</a>
      <a href="feedback.html" class="side-link" data-i18n="sidebarFeedback">Feedback</a>
      <a href="tools.html" class="side-link" data-i18n="sidebarTools">Tools & Equipment</a>
      <a href="directory.html" class="side-link" data-i18n="sidebarDirectory">Team Directory</a>
    </nav>
    <div class="side-foot" data-i18n="sidebarFooter">¬© 2025 Michels</div>
  </aside>

  <!-- ---------- HERO ---------- -->
  <section class="hero">
    <div class="hero-image" aria-hidden></div>
    <div class="hero-overlay">
      <h1 class="hero-title" data-i18n="heroTitle">IT Resource Center</h1>
      <p class="hero-desc" data-i18n="heroDesc">Your one-stop hub for company resources, documents, and important announcements</p>
    </div>
  </section>

  <!-- ---------- ANNOUNCEMENTS ---------- -->
  <section class="announcements-section">
    <div class="announcements-left">
      <h2 class="section-title" data-i18n="announceTitle">Announcements & Events</h2>
      <p class="section-sub" data-i18n="announceSub">Stay updated with the latest company news and upcoming events</p>
      <div class="events-grid" id="eventsGrid">
        <article class="event-card priority">
          <div class="event-meta">
            <h4 data-i18n="event1_title">Safety Training - All Staff Required <span class="priority-badge" data-i18n="priorityBadge">Priority</span></h4>
            <p class="event-desc" data-i18n="event1_desc">Mandatory safety training session for all construction personnel. Topics include fall protection and equipment handling.</p>
            <div class="event-info"><span data-i18n="event1_date">üìÖ January 15, 2025</span><span data-i18n="event1_time">‚è∞ 9:00 AM</span></div>
          </div>
        </article>

        <article class="event-card">
          <div class="event-meta">
            <h4 data-i18n="event2_title">Project Kickoff Meeting - Downtown Plaza</h4>
            <p class="event-desc" data-i18n="event2_desc">Initial planning meeting for the new downtown plaza construction project.</p>
            <div class="event-info"><span data-i18n="event2_date">üìÖ January 20, 2025</span><span data-i18n="event2_time">‚è∞ 2:00 PM</span></div>
          </div>
        </article>

        <article class="event-card">
          <div class="event-meta">
            <h4 data-i18n="event3_title">Equipment Maintenance Day</h4>
            <p class="event-desc" data-i18n="event3_desc">Scheduled maintenance for all heavy machinery. Alternative equipment will be available.</p>
            <div class="event-info"><span data-i18n="event3_date">üìÖ January 25, 2025</span><span data-i18n="event3_time">‚è∞ All Day</span></div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- ---------- QUICK ACCESS ---------- -->
  <section class="quick-access">
    <h2 class="section-title" data-i18n="quickTitle">Quick Access Resources</h2>
    <p class="section-sub" data-i18n="quickSub">Everything you need, right at your fingertips</p>

    <div class="cta-row">
      <button id="openTicketBtn" class="cta primary" data-i18n="submitTicket"><svg viewBox="0 0 24 24" class="btn-icon"><path d="M3 7h18M12 3v18" stroke="white" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg>Submit a Ticket</button>
      <button class="cta" id="viewPendingBtn" data-i18n="viewPending">View Pending Tickets</button>
      <button class="cta" id="viewHistoryBtn" data-i18n="history">Ticket History</button>
    </div>

    <div class="resources-grid" id="resourcesGrid">
      <a class="resource-card" href="guides.html">
        <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M6 8h12v8H6z" stroke="#b71c1c" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg></div>
        <h4 data-i18n="res_guides_title">Guides</h4>
        <p data-i18n="res_guides_desc">Step-by-step guides and best practices documentation</p>
      </a>

      <a class="resource-card" href="training.html">
        <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M4 6h16v12H4z" stroke="#b71c1c" stroke-width="1.6" fill="none"/></svg></div>
        <h4 data-i18n="res_training_title">Training Materials</h4>
        <p data-i18n="res_training_desc">Safety courses, certifications, and learning resources</p>
      </a>

      <a class="resource-card" href="feedback.html">
        <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="#b71c1c" stroke-width="1.6" fill="none"/></svg></div>
        <h4 data-i18n="res_feedback_title">Feedback</h4>
        <p data-i18n="res_feedback_desc">Share your thoughts and suggestions for improvement</p>
      </a>

      <a class="resource-card" href="policies.html">
        <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M7 8h10v8H7z" stroke="#b71c1c" stroke-width="1.6" fill="none"/></svg></div>
        <h4 data-i18n="res_policies_title">Policies & Forms</h4>
        <p data-i18n="res_policies_desc">Access company policies, procedures, and required forms</p>
      </a>

      <a class="resource-card" href="safety.html">
        <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M12 3l2 4 4 1-3 3 1 4-4-2-4 2 1-4-3-3 4-1z" stroke="#b71c1c" stroke-width="1.4" fill="none"/></svg></div>
        <h4 data-i18n="res_safety_title">Safety Resources</h4>
        <p data-i18n="res_safety_desc">Safety protocols, incident reporting, and guidelines</p>
      </a>

      <a class="resource-card" href="directory.html">
        <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M12 4a4 4 0 110 8 4 4 0 010-8zM3 20c0-3 4-5 9-5s9 2 9 5" stroke="#b71c1c" stroke-width="1.4" fill="none"/></svg></div>
        <h4 data-i18n="res_directory_title">Team Directory</h4>
        <p data-i18n="res_directory_desc">Contact information and organizational structure</p>
      </a>
    </div>
  </section>

  <!-- ---------- CHAT (Mira) ---------- -->
  <!-- Floating chat button (opens Mira) -->
  <button id="openMira" class="chat-btn" aria-label="Open Mira ‚Äî Michels IT Agent" data-i18n-attr-label="miraOpenLabel">üí¨</button>

  <!-- Embedded Mira chat container -->
  <div id="mira-chat" aria-hidden="true" role="dialog" aria-label="Mira ‚Äî Michels IT Agent">
    <div class="mira-header">
      <span class="title" data-i18n="miraTitle">Mira ‚Äî Michels IT Agent</span>
      <button class="close" id="closeMira" aria-label="Close Mira">√ó</button>
    </div>

    <!-- Copilot Studio webchat embed -->
    <iframe id="mira-iframe"
      src="https://copilotstudio.microsoft.com/environments/Default-88227c99-d157-4dbe-8e33-d8b3fcc29577/bots/cr69f_itResourceCopilot/webchat?__version__=2&hideHeader=true&hideBotName=true&bgColor=ffffff"
      title="Mira ‚Äî Michels IT Agent"
      allow="microphone; clipboard-read; clipboard-write; autoplay; encrypted-media">
    </iframe>
  </div>

  <!-- ---------- FOOTER ---------- -->
  <footer class="footer"><p data-i18n="footer">¬© 2025 Michels. All rights reserved.</p></footer>

  <!-- ---------- SCRIPTS ---------- -->
  <script src="script.js"></script> <!-- your existing site scripts -->

  <script>
    // preserve original init code (profile dropdown, notifs, sidebar, Mira, search)
    document.addEventListener('DOMContentLoaded', () => {
      // Profile dropdown logic (preserved)
      const profileBtn = document.getElementById("profileBtn");
      const profileDropdown = document.getElementById("profileDropdown");
      if (profileBtn && profileDropdown) {
        profileBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          const isHidden = profileDropdown.getAttribute("aria-hidden") === "true";
          profileDropdown.setAttribute("aria-hidden", isHidden ? "false" : "true");
        });
        document.addEventListener("click", (e) => {
          if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
            profileDropdown.setAttribute("aria-hidden", "true");
          }
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") profileDropdown.setAttribute("aria-hidden", "true");
        });
      }

      const logout = document.getElementById("logout");
      if (logout) {
        logout.addEventListener("click", (e) => {
          e.preventDefault();
          alert("Logging out (demo).");
          profileDropdown && profileDropdown.setAttribute("aria-hidden", "true");
        });
      }

      // Notifications dropdown
      const notifBtn = document.getElementById('notifBtn');
      const notifDropdown = document.getElementById('notifDropdown');
      if (notifBtn && notifDropdown) {
        notifBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          const hidden = notifDropdown.getAttribute('aria-hidden') === 'true';
          notifDropdown.setAttribute('aria-hidden', hidden ? 'false' : 'true');
        });
        document.addEventListener('click', (e) => {
          if (!notifBtn.contains(e.target) && !notifDropdown.contains(e.target)) {
            notifDropdown.setAttribute('aria-hidden', 'true');
          }
        });
      }

      // Sidebar open/close (preserved)
      const hamburger = document.getElementById('hamburger');
      const sidebar = document.getElementById('sidebar');
      const closeSidebar = document.getElementById('closeSidebar');
      if (hamburger && sidebar) {
        hamburger.addEventListener('click', () => sidebar.setAttribute('aria-hidden', 'false'));
        closeSidebar.addEventListener('click', () => sidebar.setAttribute('aria-hidden', 'true'));
      }

      // Mira chat toggle logic
      const openBtn = document.getElementById('openMira');
      const chatBox = document.getElementById('mira-chat');
      const closeBtn = document.getElementById('closeMira');
      const iframe = document.getElementById('mira-iframe');

      function openMira() {
        chatBox.setAttribute('aria-hidden', 'false');
        openBtn.style.display = 'none';
        // optional: focus iframe
        try { iframe && iframe.focus(); } catch(e) {}
      }

      function closeMira() {
        chatBox.setAttribute('aria-hidden', 'true');
        openBtn.style.display = 'flex';
      }

      if (openBtn && chatBox) openBtn.addEventListener('click', openMira);
      if (closeBtn) closeBtn.addEventListener('click', closeMira);

      // Close on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && chatBox.getAttribute('aria-hidden') === 'false') {
          closeMira();
        }
      });

      // Ensure clicks outside chat close it (optional)
      document.addEventListener('click', (e) => {
        if (chatBox.getAttribute('aria-hidden') === 'false') {
          const isInside = chatBox.contains(e.target) || openBtn.contains(e.target);
          if (!isInside) {
            // do nothing ‚Äî we keep it open unless user presses close
          }
        }
      });

      console.log('Page and Mira chat initialized.');
    });
  </script>

  <script>
    // search input logic (preserved)
    document.addEventListener("DOMContentLoaded", () => {
      const searchInput = document.getElementById("search");

      searchInput.addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
          e.preventDefault();
          const query = searchInput.value.trim().toLowerCase();

          // üîç Basic keyword matching
          if (query.includes("resource") || query.includes("quick access")) {
            // Scroll to Quick Access section
            const quickAccess = document.querySelector(".quick-access");
            if (quickAccess) {
              quickAccess.scrollIntoView({ behavior: "smooth" });
            }
          } 
          else if (query.includes("guide")) {
            window.location.href = "guides.html";
          }
          else if (query.includes("training")) {
            window.location.href = "training.html";
          }
          else if (query.includes("policy") || query.includes("form")) {
            window.location.href = "policies.html";
          }
          else if (query.includes("safety")) {
            window.location.href = "safety.html";
          }
          else if (query.includes("directory") || query.includes("team")) {
            window.location.href = "directory.html";
          }
          else if (query.includes("feedback")) {
            window.location.href = "feedback.html";
          }
          else {
            alert("No results found. Try 'guides', 'policies', or 'resources'.");
          }
        }
      });
    });
  </script>

  <!-- ---------- TRANSLATION SCRIPT: EN / ES / DE (applies to all data-i18n elements) ---------- -->
  <script>
    (function () {
      const languageSelect = document.getElementById('languageSelect');

      const translations = {
        en: {
          pageTitle: "IT Resource Center",
          navSearch: "Search resources...",
          notifHeader: "Notifications",
          notifClear: "Clear",
          notifViewAll: "View all updates",
          notif_item1_title: "Safety Training",
          notif_item1_desc: "All staff required safety session on Jan 15.",
          notif_item1_time: "Jan 10",
          notif_item2_title: "Equipment Maintenance",
          notif_item2_desc: "Scheduled maintenance on Jan 25 ‚Äî plan accordingly.",
          notif_item2_time: "Jan 08",

          profileEdit: "Edit Profile",
          profileTasks: "My Tasks",
          profileSettings: "Settings & Privacy",
          profileFav: "My Favorites",
          profileLogout: "Logout",
          langLabel: "Language",

          sidebarTitle: "IT Resource Center",
          sidebarHome: "Home",
          sidebarAbout: "About Michels",
          sidebarProjects: "Projects",
          sidebarCareers: "Careers",
          sidebarContact: "Contact",
          sidebarGuides: "Guides",
          sidebarTraining: "Training",
          sidebarPolicies: "Policies & Forms",
          sidebarFeedback: "Feedback",
          sidebarTools: "Tools & Equipment",
          sidebarDirectory: "Team Directory",
          sidebarFooter: "¬© 2025 Michels",

          heroTitle: "IT Resource Center",
          heroDesc: "Your one-stop hub for company resources, documents, and important announcements",

          announceTitle: "Announcements & Events",
          announceSub: "Stay updated with the latest company news and upcoming events",

          event1_title: "Safety Training - All Staff Required",
          priorityBadge: "Priority",
          event1_desc: "Mandatory safety training session for all construction personnel. Topics include fall protection and equipment handling.",
          event1_date: "üìÖ January 15, 2025",
          event1_time: "‚è∞ 9:00 AM",

          event2_title: "Project Kickoff Meeting - Downtown Plaza",
          event2_desc: "Initial planning meeting for the new downtown plaza construction project.",
          event2_date: "üìÖ January 20, 2025",
          event2_time: "‚è∞ 2:00 PM",

          event3_title: "Equipment Maintenance Day",
          event3_desc: "Scheduled maintenance for all heavy machinery. Alternative equipment will be available.",
          event3_date: "üìÖ January 25, 2025",
          event3_time: "‚è∞ All Day",

          quickTitle: "Quick Access Resources",
          quickSub: "Everything you need, right at your fingertips",
          submitTicket: "Submit a Ticket",
          viewPending: "View Pending Tickets",
          history: "Ticket History",

          res_guides_title: "Guides",
          res_guides_desc: "Step-by-step guides and best practices documentation",
          res_training_title: "Training Materials",
          res_training_desc: "Safety courses, certifications, and learning resources",
          res_feedback_title: "Feedback",
          res_feedback_desc: "Share your thoughts and suggestions for improvement",
          res_policies_title: "Policies & Forms",
          res_policies_desc: "Access company policies, procedures, and required forms",
          res_safety_title: "Safety Resources",
          res_safety_desc: "Safety protocols, incident reporting, and guidelines",
          res_directory_title: "Team Directory",
          res_directory_desc: "Contact information and organizational structure",

          miraTitle: "Mira ‚Äî Michels IT Agent",
          miraOpenLabel: "Open Mira ‚Äî Michels IT Agent",

          footer: "¬© 2025 Michels. All rights reserved."
        },

        es: {
          pageTitle: "Centro de Recursos de TI",
          navSearch: "Buscar recursos...",
          notifHeader: "Notificaciones",
          notifClear: "Limpiar",
          notifViewAll: "Ver todas las actualizaciones",
          notif_item1_title: "Capacitaci√≥n de Seguridad",
          notif_item1_desc: "Sesi√≥n obligatoria de seguridad para todo el personal el 15 de enero.",
          notif_item1_time: "10 de ene",
          notif_item2_title: "Mantenimiento de Equipos",
          notif_item2_desc: "Mantenimiento programado el 25 de enero. Planifique en consecuencia.",
          notif_item2_time: "8 de ene",

          profileEdit: "Editar Perfil",
          profileTasks: "Mis Tareas",
          profileSettings: "Configuraci√≥n y Privacidad",
          profileFav: "Mis Favoritos",
          profileLogout: "Cerrar Sesi√≥n",
          langLabel: "Idioma",

          sidebarTitle: "Centro de Recursos de TI",
          sidebarHome: "Inicio",
          sidebarAbout: "Sobre Michels",
          sidebarProjects: "Proyectos",
          sidebarCareers: "Carreras",
          sidebarContact: "Contacto",
          sidebarGuides: "Gu√≠as",
          sidebarTraining: "Capacitaci√≥n",
          sidebarPolicies: "Pol√≠ticas y Formularios",
          sidebarFeedback: "Retroalimentaci√≥n",
          sidebarTools: "Herramientas y Equipos",
          sidebarDirectory: "Directorio del Equipo",
          sidebarFooter: "¬© 2025 Michels",

          heroTitle: "Centro de Recursos de TI",
          heroDesc: "Su centro √∫nico para recursos de la empresa, documentos y anuncios importantes",

          announceTitle: "Anuncios y Eventos",
          announceSub: "Mant√©ngase actualizado con las √∫ltimas noticias y pr√≥ximos eventos",

          event1_title: "Capacitaci√≥n de Seguridad - Obligatoria para Todo el Personal",
          priorityBadge: "Prioridad",
          event1_desc: "Sesi√≥n obligatoria de capacitaci√≥n en seguridad para todo el personal de construcci√≥n. Los temas incluyen protecci√≥n contra ca√≠das y manejo de equipos.",
          event1_date: "üìÖ 15 de enero de 2025",
          event1_time: "‚è∞ 9:00 AM",

          event2_title: "Reuni√≥n de Inicio de Proyecto - Plaza del Centro",
          event2_desc: "Reuni√≥n de planificaci√≥n inicial para el nuevo proyecto de construcci√≥n de la plaza del centro.",
          event2_date: "üìÖ 20 de enero de 2025",
          event2_time: "‚è∞ 2:00 PM",

          event3_title: "D√≠a de Mantenimiento de Equipos",
          event3_desc: "Mantenimiento programado para toda la maquinaria pesada. Habr√° equipos alternativos disponibles.",
          event3_date: "üìÖ 25 de enero de 2025",
          event3_time: "‚è∞ Todo el d√≠a",

          quickTitle: "Recursos de Acceso R√°pido",
          quickSub: "Todo lo que necesitas al alcance de tu mano",
          submitTicket: "Enviar un Ticket",
          viewPending: "Ver Tickets Pendientes",
          history: "Historial de Tickets",

          res_guides_title: "Gu√≠as",
          res_guides_desc: "Gu√≠as paso a paso y documentaci√≥n de mejores pr√°cticas",
          res_training_title: "Materiales de Capacitaci√≥n",
          res_training_desc: "Cursos de seguridad, certificaciones y recursos de aprendizaje",
          res_feedback_title: "Retroalimentaci√≥n",
          res_feedback_desc: "Comparta sus pensamientos y sugerencias para mejorar",
          res_policies_title: "Pol√≠ticas y Formularios",
          res_policies_desc: "Accede a las pol√≠ticas de la empresa, procedimientos y formularios requeridos",
          res_safety_title: "Recursos de Seguridad",
          res_safety_desc: "Protocolos de seguridad, reporte de incidentes y gu√≠as",
          res_directory_title: "Directorio del Equipo",
          res_directory_desc: "Informaci√≥n de contacto y estructura organizativa",

          miraTitle: "Mira ‚Äî Agente de TI de Michels",
          miraOpenLabel: "Abrir Mira ‚Äî Agente de TI de Michels",

          footer: "¬© 2025 Michels. Todos los derechos reservados."
        },

        de: {
          pageTitle: "IT-Ressourcenzentrum",
          navSearch: "Ressourcen suchen...",
          notifHeader: "Benachrichtigungen",
          notifClear: "L√∂schen",
          notifViewAll: "Alle Updates anzeigen",
          notif_item1_title: "Sicherheitsschulung",
          notif_item1_desc: "Pflichtveranstaltung zur Sicherheit f√ºr alle Mitarbeiter am 15. Januar.",
          notif_item1_time: "10. Jan",
          notif_item2_title: "Ger√§tewartung",
          notif_item2_desc: "Geplante Wartung am 25. Januar ‚Äî bitte planen Sie entsprechend.",
          notif_item2_time: "08. Jan",

          profileEdit: "Profil bearbeiten",
          profileTasks: "Meine Aufgaben",
          profileSettings: "Einstellungen & Datenschutz",
          profileFav: "Meine Favoriten",
          profileLogout: "Abmelden",
          langLabel: "Sprache",

          sidebarTitle: "IT-Ressourcenzentrum",
          sidebarHome: "Startseite",
          sidebarAbout: "√úber Michels",
          sidebarProjects: "Projekte",
          sidebarCareers: "Karriere",
          sidebarContact: "Kontakt",
          sidebarGuides: "Anleitungen",
          sidebarTraining: "Schulungen",
          sidebarPolicies: "Richtlinien & Formulare",
          sidebarFeedback: "Feedback",
          sidebarTools: "Werkzeuge & Ausr√ºstung",
          sidebarDirectory: "Teamverzeichnis",
          sidebarFooter: "¬© 2025 Michels",

          heroTitle: "IT-Ressourcenzentrum",
          heroDesc: "Ihr zentraler Hub f√ºr Unternehmensressourcen, Dokumente und wichtige Ank√ºndigungen",

          announceTitle: "Ank√ºndigungen & Ereignisse",
          announceSub: "Bleiben Sie √ºber die neuesten Nachrichten und kommenden Ereignisse informiert",

          event1_title: "Sicherheitsschulung - Alle Mitarbeiter erforderlich",
          priorityBadge: "Priorit√§t",
          event1_desc: "Pflichtveranstaltung zur Sicherheit f√ºr alle Bau-Mitarbeiter. Themen umfassen Absturzsicherung und Ger√§tebedienung.",
          event1_date: "üìÖ 15. Januar 2025",
          event1_time: "‚è∞ 9:00 Uhr",

          event2_title: "Projekt-Kickoff-Meeting - Innenstadtplatz",
          event2_desc: "Erstes Planungsmeeting f√ºr das neue Bauprojekt am Innenstadtplatz.",
          event2_date: "üìÖ 20. Januar 2025",
          event2_time: "‚è∞ 14:00 Uhr",

          event3_title: "Ger√§tewartungstag",
          event3_desc: "Geplante Wartung f√ºr alle schweren Maschinen. Es stehen alternative Ger√§te zur Verf√ºgung.",
          event3_date: "üìÖ 25. Januar 2025",
          event3_time: "‚è∞ Ganzer Tag",

          quickTitle: "Schnellzugriffsressourcen",
          quickSub: "Alles was Sie brauchen, direkt zur Hand",
          submitTicket: "Ticket einreichen",
          viewPending: "Ausstehende Tickets anzeigen",
          history: "Ticketverlauf",

          res_guides_title: "Anleitungen",
          res_guides_desc: "Schritt-f√ºr-Schritt-Anleitungen und Best-Practice-Dokumentation",
          res_training_title: "Sch Schulungsmaterialien",
          res_training_desc: "Sicherheitskurse, Zertifizierungen und Lernressourcen",
          res_feedback_title: "Feedback",
          res_feedback_desc: "Teilen Sie Ihre Gedanken und Verbesserungsvorschl√§ge",
          res_policies_title: "Richtlinien & Formulare",
          res_policies_desc: "Zugriff auf Unternehmensrichtlinien, Verfahren und erforderliche Formulare",
          res_safety_title: "Sicherheitsressourcen",
          res_safety_desc: "Sicherheitsprotokolle, Vorfallmeldung und Richtlinien",
          res_directory_title: "Teamverzeichnis",
          res_directory_desc: "Kontaktinformationen und Organisationsstruktur",

          miraTitle: "Mira ‚Äî Michels IT-Agent",
          miraOpenLabel: "Mira √∂ffnen ‚Äî Michels IT-Agent",

          footer: "¬© 2025 Michels. Alle Rechte vorbehalten."
        }
      };

      // Apply a language by iterating all elements with data-i18n
      function applyLanguage(lang) {
        const t = translations[lang] || translations['en'];

        // update elements that use data-i18n
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (!key) return;
          const value = t[key];
          if (value === undefined) return;

          // if it's an input -> set placeholder, else set textContent
          const tag = el.tagName.toLowerCase();
          if (tag === 'input' || tag === 'textarea') {
            el.placeholder = value;
          } else {
            el.textContent = value;
          }
        });

        // update elements that have data-i18n-attr-label (aria labels)
        document.querySelectorAll('[data-i18n-attr-label]').forEach(el => {
          const key = el.getAttribute('data-i18n-attr-label');
          if (!key) return;
          const value = t[key];
          if (value !== undefined) el.setAttribute('aria-label', value);
        });

        // Some attributes / placeholders not handled above:
        const searchInput = document.getElementById('search');
        if (searchInput && t['navSearch']) searchInput.placeholder = t['navSearch'];

        // update page title
        if (t['pageTitle']) document.title = t['pageTitle'];
      }

      // load saved language (or default to English)
      const saved = localStorage.getItem('preferredLang') || 'en';
      if (languageSelect) {
        languageSelect.value = saved;
      }
      applyLanguage(saved);

      // when user changes selection
      if (languageSelect) {
        languageSelect.addEventListener('change', () => {
          const lang = languageSelect.value || 'en';
          localStorage.setItem('preferredLang', lang);
          applyLanguage(lang);
        });
      }

      // make sure any future changes to the page can be re-applied by calling applyLanguage
      window.applyLanguage = applyLanguage;
    })();
  </script>

</body>
</html>
